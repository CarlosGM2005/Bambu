<!-- Barra de navegación de Categorías -->
<div class="container">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" tabindex="0" (click)="filtrarPorCategoria($event, 'SURTIDOS')">Surtidos</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" tabindex="0" (click)="filtrarPorCategoria($event, 'ENTRANTES')">Entrantes</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" tabindex="0" (click)="filtrarPorCategoria($event, 'ARROZ Y NOODLES')">Arroz y
                Noodles</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" tabindex="0" (click)="filtrarPorCategoria($event, 'NIGIRIS')">Nigiris</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" tabindex="0" (click)="filtrarPorCategoria($event, 'ROLLS')">Rolls</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" tabindex="0" (click)="filtrarPorCategoria($event, 'MAKIS')">Makis</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" tabindex="0" (click)="filtrarPorCategoria($event, 'BEBIDAS')">Bebidas</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" tabindex="0" (click)="filtrarPorCategoria($event, 'POSTRES')">Postres</a>
        </li>
    </ul>
</div>

<!-- Sección de Productos -->
<div class="container menu-grid">
    <h1>{{ categoria.toUpperCase() }}</h1>
    <div class="row g-0">
        <div class="col-md-6 col-lg-4 mb-4" *ngFor="let producto of productosFiltrados">
            <div class="menu-item">
                <img [src]="producto.urlImg" [alt]="'Imagen de ' + producto.nombre_plato" [title]="producto.title">
                <p class="tituloProducto"><b>{{ producto.nombre_plato }}</b></p>
                <p class="precioProducto"><b>{{ producto.precio }} €</b></p>
                <!-- Botón Más información -->
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#surtidoModal"
                    (click)="obtenerInfoProducto(producto.nombre_plato)">
                    Más información
                </button>
            </div>
        </div>
    </div>
</div>


<!-- Modal (se abre cada vez que seleccionas un producto) -->
<div class="modal fade" id="surtidoModal" tabindex="-1" aria-labelledby="surtidoModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <img *ngIf="infoProducto" [src]="infoProducto.urlImg" alt="Imagen del producto"
                    class="rounded mx-auto d-block" style="max-height: 200px;">
            </div>
            <div class="modal-body">
                <p><strong>{{ infoProducto.nombre_plato }}</strong></p>
                <p class="precio">{{ infoProducto.precio }}€</p>
                <p><strong>Descripción: </strong>{{ infoProducto.descripcion }}</p>
                <p><strong>Alergénos: </strong>{{infoProducto.alergenos}}</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>